<div class="flex size-auto h-full items-center justify-center pb-4">
  <div
    class="bg-background dark:bg-dark-background max-w-120 min-w-74 rounded-lg border border-gray-300 p-5 text-center shadow-md dark:border-gray-800"
  >
    <h2
      class="dark:text-background mb-4 font-[consolas] text-2xl font-semibold"
    >
      Welcome to my <br />PersonalCloud
    </h2>
    @if (error !== '') {
      <div
        class="mb-4 w-full rounded-md border border-red-300 bg-red-100 p-2 text-red-700 dark:border-red-800 dark:bg-red-900 dark:text-red-300"
      >
        <span>{{ error }}</span>
      </div>
    }

    <form [formGroup]="registerFormGroup">
      <div class="my-2">
        <app-material-input
          id="username"
          label="Username"
          [formControl]="registerFormGroup.controls.username"
          [errorMessage]="
            registerFormGroup.controls.username.invalid &&
            (registerFormGroup.controls.username.dirty ||
              registerFormGroup.controls.username.touched)
              ? 'Username is required'
              : ''
          "
        ></app-material-input>
      </div>

      <div class="my-4">
        <app-material-input
          id="password"
          label="Password"
          type="password"
          [formControl]="registerFormGroup.controls.password"
          [errorMessage]="
            registerFormGroup.controls.password.invalid &&
            (registerFormGroup.controls.password.dirty ||
              registerFormGroup.controls.password.touched)
              ? registerFormGroup.controls.password.value?.length === 0
                ? 'Password is required'
                : 'Password must be at least 8 characters long'
              : ''
          "
        ></app-material-input>
      </div>

      <div class="my-4">
        <app-material-input
          id="password_repeat"
          label="Repeat Password"
          type="password"
          [formControl]="registerFormGroup.controls.password_repeat"
          [errorMessage]="
            registerFormGroup.controls.password_repeat.invalid &&
            (registerFormGroup.controls.password_repeat.dirty ||
              registerFormGroup.controls.password_repeat.touched)
              ? registerFormGroup.controls.password_repeat.value?.length === 0
                ? 'Field is required'
                : 'Password must match'
              : ''
          "
        ></app-material-input>
      </div>
    </form>

    <button
      type="submit"
      class="bg-primary dark:bg-dark-primary hover:bg-dark-primary dark:hover:bg-primary text-background w-full rounded-md p-2"
      (click)="onRegisterClicked()"
    >
      Register
    </button>
  </div>
</div>
